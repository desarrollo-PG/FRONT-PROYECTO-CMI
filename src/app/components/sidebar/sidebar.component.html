<!-- sidebar.component.html -->
<nav class="navbar-horizontal" [class.mobile-open]="mobileMenuOpen">
  
  <!-- Usuario (Izquierda) -->
  <div class="navbar-user">
    <div class="user-avatar">
      <img *ngIf="userInfo.avatar" [src]="userInfo.avatar" [alt]="userInfo.name">
      <i *ngIf="!userInfo.avatar" class="fas fa-user-circle"></i>
    </div>
    <span class="user-name" (click)="onUserNameClick()">{{ userInfo.name }}</span>
  </div>

  <!-- Toggle para móvil -->
  <button class="navbar-toggle" (click)="toggleMobileMenu()">
    <i class="fas fa-bars"></i>
  </button>

  <!-- Menús principales (Desktop) -->
  <div class="navbar-menu" [class.show]="mobileMenuOpen">
    <div class="menu-items">
      <div class="menu-item" 
           *ngFor="let item of currentMenuItems"
           [class.active]="item.expanded">
        
        <ng-container *appHasRole="item.roles || []">
          
          <!-- Botón principal del menú - CAMBIO AQUÍ -->
          <button class="menu-button" 
                  (click)="onMenuItemClick(item, $event)"
                  [attr.data-label]="item.label">
            <i *ngIf="item.icon" [class]="item.icon" class="menu-icon"></i>
            <span class="menu-label">{{ item.label }}</span>
            <i *ngIf="item.children?.length" 
               class="fas fa-chevron-down dropdown-arrow"
               [class.rotated]="item.expanded"></i>
          </button>

          <!-- Dropdown (submenú) -->
          <div class="dropdown-menu" *ngIf="item.children?.length && item.expanded">
            <div class="dropdown-arrow-up"></div>
            <div class="dropdown-item" *ngFor="let subItem of item.children">
              <ng-container *appHasRole="subItem.roles || []">
                <!-- CAMBIO AQUÍ TAMBIÉN -->
                <button class="dropdown-link" (click)="onSubMenuItemClick(subItem, $event)">
                  <span class="dropdown-dot"></span>
                  <span class="dropdown-label">{{ subItem.label }}</span>
                </button>
              </ng-container>
            </div>
          </div>
          
        </ng-container>
      </div>
    </div>

    <!-- Copyright (Derecha) -->
    <div class="navbar-footer">
      <p class="footer-text">{{ footerText }}</p>
    </div>
  </div>

  <!-- Overlay móvil -->
  <div class="navbar-overlay" 
       *ngIf="mobileMenuOpen" 
       (click)="toggleMobileMenu()"></div>
</nav>